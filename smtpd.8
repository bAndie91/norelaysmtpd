.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "SMTPD" "8" "03 November 2006" "$Rev: 1646 $" ""

.SH NAME
smtpd \- A lightweight SMTP endpoint receiver.
.SH SYNOPSIS

\fBsmtpd\fR [ \fB-V\fR ]


\fBsmtpd\fR [ \fB-c \fIconfigurationfile\fB\fR ]

.SH "DESCRIPTION"
.PP

\fBsmtpd\fR
is a small daemon which sole purpose is end-point delivery of e-mail messages with minimal configuration. It is used to receive incoming SMTP connections from the Internet and deliver messages to the users it knows about, discarding everything else.
.PP
.TP
\fB-V\fR
Displays the version of \fBsmtpd\fR and exits.
.TP
\fB-c \fIconfigurationfile\fB\fR
Allows to specify the emplacement of smtpd's configuration file.
.SH "BUGS"
.PP
\fBsmtpd\fR currently only runs from the Internet "super-daemon" (\fBinetd\fR or \fBxinetd\fR).
.SH "CONFIGURATION"
.PP
\fBsmtpd\fR recognises the following configuration directives in its configuration file:
.TP
\fBmailboxes\fR
The directory where mailboxes are located. Each e-mail address accepted by \fBsmtpd\fR must have a corresponding mailbox named after it in this directory.

Default is /var/mailboxes.
.TP
\fBtimeout\fR
The maximum duration \fBsmtpd\fR will wait for reply from sending systems.

Default is 300 seconds (5 minutes).
.TP
\fBuser\fR
The user id under which \fBsmtpd\fR runs.
.TP
\fBgroup\fR
The group id under which \fBsmtpd\fR runs.
.TP
\fBdatabase\fR
The SQLite file \fBsmtpd\fR should use to store persistent information about clients. It currently only includes greylisting information.

Default is /var/cache/smtpd/db.
.TP
\fBgreylist\fR
How long (in seconds) clients must wait before retrying to send a deferred message once greylisted. Clients that retry after that delay are considered legitimate and any later connection will be accepted without delay.

Default is 300.
.TP
\fBold\fR
How much (in days) inactivity can be tolerated from legitimate clients before they are removed from the list of trusted servers.

Default is 30.
.SH "NOTES"
.TP
\fBmailboxes\fR
Mailboxes must be located under a single directory (/var/mailboxes by default, but this can be changed in the config file). If you need to store your mailboxes elsewhere, just use symbolic links to make them available under a single directory.

Mailboxes can be created using the \fBmaildirmake\fR(1) command. If you don't have the \fBmaildirmake\fR command, just use

mkdir -p /var/mailboxes/jsmith@mycorp.com/{cur,new,tmp}
.TP
\fBaliases\fR
Mail aliases can easily be created with symbolic links

The following commands define a few aliases for jsmith@mycorp.com
$ cd /var/mailboxes
$ ln -s jsmith@mycorp.com john.smith@mycorp.com
$ ln -s jsmith@mycorp.com john.smith@eu.mycorp.com
$ ln -s jsmith@mycorp.com john.smith@mycorp.eu
.SH "SECURITY"
.PP
When accessing a mailbox, \fBsmtpd\fR automatically switches to the id (and group id) of the mailbox and copies relevant access rights for messages it delivers from the mailbox.
For example, if you want to define a shared mailbox to receive support requests, you can have the following:
.PP
drwxrwxr-x 5 support support 4096 Oct 19 00:43 customer.support@mycorp.com
.PP
All received messages will be owned by support:support and access rights will be -rw-rw-r-- (octal 0664) All members of the support group will have full access to messages delivered to that mailbox but "other" users will only be granted read access. 
.SH "FILES"
.PP
.TP
\fB/etc/smtpd.conf\fR
Configuration file.
.TP
\fB/var/mailboxes/*\fR
Users' mailboxes.
.SH "COPYING"
.PP
\fBsmtpd\fR is distributed under the GNU GENERAL PUBLIC LICENSE (GPL) version 2.
.SH "SEE ALSO"
.PP
\fBmaildirmake\fR(1)
.SH "AUTHOR"
.PP
\fBsmtpd\fR is maintained by Lyonel Vincent
<lyonel@ezix.org>\&.
.SH "OTHER INFO"
.PP
More information about \fBsmtpd\fR can be found at 
 <URL:http://ezix.org/software>
